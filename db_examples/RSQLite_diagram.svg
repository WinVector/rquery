<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.40.1 (20161225.0304)
 -->
<!-- Title: rquery_optree Pages: 1 -->
<svg width="506pt" height="1109pt"
 viewBox="0.00 0.00 505.94 1109.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 1105)">
<title>rquery_optree</title>
<polygon fill="#ffffff" stroke="transparent" points="-4,4 -4,-1105 501.9402,-1105 501.9402,4 -4,4"/>
<!-- table_d -->
<g id="node1" class="node">
<title>table_d</title>
<polygon fill="#66cd00" stroke="#000000" points="276.9701,-1101 273.9701,-1105 252.9701,-1105 249.9701,-1101 222.9701,-1101 222.9701,-1065 276.9701,-1065 276.9701,-1101"/>
<text text-anchor="middle" x="249.9701" y="-1078.8" font-family="Times,serif" font-size="14.00" fill="#000000">d</text>
</g>
<!-- node_2 -->
<g id="node2" class="node">
<title>node_2</title>
<polygon fill="#cdc673" stroke="#000000" points="387.1413,-1030.0019 112.7989,-1030.0019 112.7989,-988.7981 387.1413,-988.7981 387.1413,-1030.0019"/>
<text text-anchor="start" x="120.6346" y="-1013.6" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="120.6346" y="-996.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := exp(assessmentTotal * 0.237))</text>
</g>
<!-- table_d&#45;&gt;node_2 -->
<g id="edge1" class="edge">
<title>table_d&#45;&gt;node_2</title>
<path fill="none" stroke="#000000" d="M249.9701,-1064.8067C249.9701,-1057.4437 249.9701,-1048.7321 249.9701,-1040.4234"/>
<polygon fill="#000000" stroke="#000000" points="253.4702,-1040.2463 249.9701,-1030.2463 246.4702,-1040.2464 253.4702,-1040.2463"/>
<text text-anchor="middle" x="251.7201" y="-1043.4" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="253.4701,-1039.2 249.9701,-1039.2 249.9701,-1047.4905 "/>
</g>
<!-- node_3 -->
<g id="node3" class="node">
<title>node_3</title>
<polygon fill="#cdc673" stroke="#000000" points="374.6275,-953.6019 125.3127,-953.6019 125.3127,-912.3981 374.6275,-912.3981 374.6275,-953.6019"/>
<text text-anchor="start" x="133.1415" y="-937.2" font-family="Times,serif" font-size="14.00" fill="#000000">select_columns(.,</text>
<text text-anchor="start" x="133.1415" y="-920.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;probability, subjectID, surveyCategory)</text>
</g>
<!-- node_2&#45;&gt;node_3 -->
<g id="edge2" class="edge">
<title>node_2&#45;&gt;node_3</title>
<path fill="none" stroke="#000000" d="M249.9701,-988.5234C249.9701,-980.9436 249.9701,-972.2093 249.9701,-963.9453"/>
<polygon fill="#000000" stroke="#000000" points="253.4702,-963.8514 249.9701,-953.8514 246.4702,-963.8514 253.4702,-963.8514"/>
<text text-anchor="middle" x="251.7201" y="-967" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="253.4701,-962.8 249.9701,-962.8 249.9701,-970.9935 "/>
</g>
<!-- table_ex_06629325664067217329_0000000000 -->
<g id="node4" class="node">
<title>table_ex_06629325664067217329_0000000000</title>
<polygon fill="#66cd00" stroke="#000000" points="376.6848,-893.2 373.6848,-897.2 352.6848,-897.2 349.6848,-893.2 123.2554,-893.2 123.2554,-857.2 376.6848,-857.2 376.6848,-893.2"/>
<text text-anchor="middle" x="249.9701" y="-871" font-family="Times,serif" font-size="14.00" fill="#000000">ex_06629325664067217329_0000000000</text>
</g>
<!-- node_3&#45;&gt;table_ex_06629325664067217329_0000000000 -->
<g id="edge15" class="edge">
<title>node_3&#45;&gt;table_ex_06629325664067217329_0000000000</title>
<path fill="none" stroke="#000000" d="M249.9701,-912.1329C249.9701,-909.3782 249.9701,-906.5178 249.9701,-903.6631"/>
<polygon fill="#000000" stroke="#000000" points="253.4702,-903.5478 249.9701,-893.5478 246.4702,-903.5479 253.4702,-903.5478"/>
</g>
<!-- node_7 -->
<g id="node5" class="node">
<title>node_7</title>
<polygon fill="#cdc673" stroke="#000000" points="271.8227,-822.2019 38.1175,-822.2019 38.1175,-780.9981 271.8227,-780.9981 271.8227,-822.2019"/>
<text text-anchor="start" x="46.0438" y="-805.8" font-family="Times,serif" font-size="14.00" fill="#000000">project(., tot_prob := sum(probability),</text>
<text text-anchor="start" x="46.0438" y="-789" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_06629325664067217329_0000000000&#45;&gt;node_7 -->
<g id="edge3" class="edge">
<title>table_ex_06629325664067217329_0000000000&#45;&gt;node_7</title>
<path fill="none" stroke="#000000" d="M226.4869,-857.0067C215.5047,-848.4984 202.198,-838.1892 190.0553,-828.7818"/>
<polygon fill="#000000" stroke="#000000" points="191.9265,-825.804 181.8777,-822.4463 187.6393,-831.3376 191.9265,-825.804"/>
<text text-anchor="middle" x="215.7201" y="-835.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="217.4701,-831.4 213.9701,-831.4 211.6083,-845.4797 "/>
</g>
<!-- node_8 -->
<g id="node6" class="node">
<title>node_8</title>
<polygon fill="#cdc673" stroke="#000000" points="382.4859,-746 115.4543,-746 115.4543,-710 382.4859,-710 382.4859,-746"/>
<text text-anchor="start" x="123.4622" y="-723.8" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= LEFT, by= subjectID)</text>
</g>
<!-- table_ex_06629325664067217329_0000000000&#45;&gt;node_8 -->
<g id="edge4" class="edge">
<title>table_ex_06629325664067217329_0000000000&#45;&gt;node_8</title>
<path fill="none" stroke="#000000" d="M268.541,-856.9264C276.8115,-847.4864 285.6478,-835.2634 289.9701,-822.4 295.8591,-804.8741 295.9635,-798.2905 289.9701,-780.8 286.6753,-771.1847 280.8364,-761.9689 274.5797,-754.0045"/>
<polygon fill="#000000" stroke="#000000" points="277.1179,-751.585 267.9975,-746.1935 271.765,-756.0958 277.1179,-751.585"/>
<text text-anchor="middle" x="300.2201" y="-797.4" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="305.4701,-793.2 294.9701,-793.2 294.426,-801.5867 "/>
</g>
<!-- node_7&#45;&gt;node_8 -->
<g id="edge5" class="edge">
<title>node_7&#45;&gt;node_8</title>
<path fill="none" stroke="#000000" d="M181.4045,-780.9024C192.7876,-771.9897 206.1756,-761.5072 218.0186,-752.2344"/>
<polygon fill="#000000" stroke="#000000" points="220.2112,-754.9628 225.9272,-746.0421 215.8958,-749.4513 220.2112,-754.9628"/>
<text text-anchor="middle" x="219.2201" y="-759.2" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="224.4701,-755 213.9701,-755 213.2265,-755.9865 "/>
</g>
<!-- node_9 -->
<g id="node7" class="node">
<title>node_9</title>
<polygon fill="#cdc673" stroke="#000000" points="362.6238,-675.0019 135.3164,-675.0019 135.3164,-633.7981 362.6238,-633.7981 362.6238,-675.0019"/>
<text text-anchor="start" x="143.1434" y="-658.6" font-family="Times,serif" font-size="14.00" fill="#000000">extend(.,</text>
<text text-anchor="start" x="143.1434" y="-641.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;probability := probability / tot_prob)</text>
</g>
<!-- node_8&#45;&gt;node_9 -->
<g id="edge6" class="edge">
<title>node_8&#45;&gt;node_9</title>
<path fill="none" stroke="#000000" d="M248.9701,-709.8067C248.9701,-702.4437 248.9701,-693.7321 248.9701,-685.4234"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-685.2463 248.9701,-675.2463 245.4702,-685.2464 252.4702,-685.2463"/>
<text text-anchor="middle" x="250.7201" y="-688.4" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-684.2 248.9701,-684.2 248.9701,-692.4905 "/>
</g>
<!-- node_10 -->
<g id="node8" class="node">
<title>node_10</title>
<polygon fill="#cdc673" stroke="#000000" points="373.6275,-598.6019 124.3127,-598.6019 124.3127,-557.3981 373.6275,-557.3981 373.6275,-598.6019"/>
<text text-anchor="start" x="132.1415" y="-582.2" font-family="Times,serif" font-size="14.00" fill="#000000">select_columns(.,</text>
<text text-anchor="start" x="132.1415" y="-565.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;probability, subjectID, surveyCategory)</text>
</g>
<!-- node_9&#45;&gt;node_10 -->
<g id="edge7" class="edge">
<title>node_9&#45;&gt;node_10</title>
<path fill="none" stroke="#000000" d="M248.9701,-633.5234C248.9701,-625.9436 248.9701,-617.2093 248.9701,-608.9453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-608.8514 248.9701,-598.8514 245.4702,-608.8514 252.4702,-608.8514"/>
<text text-anchor="middle" x="250.7201" y="-612" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-607.8 248.9701,-607.8 248.9701,-615.9935 "/>
</g>
<!-- table_ex_06629325664067217329_0000000001 -->
<g id="node9" class="node">
<title>table_ex_06629325664067217329_0000000001</title>
<polygon fill="#66cd00" stroke="#000000" points="375.6848,-538.2 372.6848,-542.2 351.6848,-542.2 348.6848,-538.2 122.2554,-538.2 122.2554,-502.2 375.6848,-502.2 375.6848,-538.2"/>
<text text-anchor="middle" x="248.9701" y="-516" font-family="Times,serif" font-size="14.00" fill="#000000">ex_06629325664067217329_0000000001</text>
</g>
<!-- node_10&#45;&gt;table_ex_06629325664067217329_0000000001 -->
<g id="edge16" class="edge">
<title>node_10&#45;&gt;table_ex_06629325664067217329_0000000001</title>
<path fill="none" stroke="#000000" d="M248.9701,-557.1329C248.9701,-554.3782 248.9701,-551.5178 248.9701,-548.6631"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-548.5478 248.9701,-538.5478 245.4702,-548.5479 252.4702,-548.5478"/>
</g>
<!-- node_13 -->
<g id="node10" class="node">
<title>node_13</title>
<polygon fill="#cdc673" stroke="#000000" points="275.0888,-467.2019 26.8514,-467.2019 26.8514,-425.9981 275.0888,-425.9981 275.0888,-467.2019"/>
<text text-anchor="start" x="34.6609" y="-450.8" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability),</text>
<text text-anchor="start" x="34.6609" y="-434" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- table_ex_06629325664067217329_0000000001&#45;&gt;node_13 -->
<g id="edge8" class="edge">
<title>table_ex_06629325664067217329_0000000001&#45;&gt;node_13</title>
<path fill="none" stroke="#000000" d="M224.9966,-502.1954C213.4687,-493.5377 199.4146,-482.9828 186.6618,-473.4052"/>
<polygon fill="#000000" stroke="#000000" points="188.6069,-470.4889 178.509,-467.2822 184.4032,-476.0861 188.6069,-470.4889"/>
<text text-anchor="middle" x="213.7201" y="-480.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="215.4701,-476.4 211.9701,-476.4 209.3452,-490.4409 "/>
</g>
<!-- node_15 -->
<g id="node11" class="node">
<title>node_15</title>
<polygon fill="#cdc673" stroke="#000000" points="421.2462,-391 76.694,-391 76.694,-355 421.2462,-355 421.2462,-391"/>
<text text-anchor="start" x="84.5821" y="-368.8" font-family="Times,serif" font-size="14.00" fill="#000000">natural_join(.1, .2, &#160;j= INNER, by= subjectID, probability)</text>
</g>
<!-- table_ex_06629325664067217329_0000000001&#45;&gt;node_15 -->
<g id="edge10" class="edge">
<title>table_ex_06629325664067217329_0000000001&#45;&gt;node_15</title>
<path fill="none" stroke="#000000" d="M269.8271,-501.7754C278.7822,-492.4759 288.2581,-480.4148 292.9701,-467.4 299.2642,-450.0154 299.2642,-443.1846 292.9701,-425.8 289.4361,-416.0389 283.2224,-406.8143 276.5585,-398.8888"/>
<polygon fill="#000000" stroke="#000000" points="279.1234,-396.5068 269.8271,-391.4246 273.9251,-401.1948 279.1234,-396.5068"/>
<text text-anchor="middle" x="303.2201" y="-442.4" font-family="Times,serif" font-size="14.00" fill="#000000">.2</text>
<polyline fill="none" stroke="#000000" points="308.4701,-438.2 297.9701,-438.2 297.6907,-446.6 "/>
</g>
<!-- node_13&#45;&gt;node_15 -->
<g id="edge9" class="edge">
<title>node_13&#45;&gt;node_15</title>
<path fill="none" stroke="#000000" d="M178.5294,-425.9024C190.3969,-416.9897 204.3546,-406.5072 216.7015,-397.2344"/>
<polygon fill="#000000" stroke="#000000" points="219.0524,-399.846 224.9466,-391.0421 214.8487,-394.2487 219.0524,-399.846"/>
<text text-anchor="middle" x="217.2201" y="-404.2" font-family="Times,serif" font-size="14.00" fill="#000000">.1</text>
<polyline fill="none" stroke="#000000" points="222.4701,-400 211.9701,-400 211.4074,-401.2104 "/>
</g>
<!-- node_16 -->
<g id="node12" class="node">
<title>node_16</title>
<polygon fill="#cdc673" stroke="#000000" points="497.9103,-320.0019 .0299,-320.0019 .0299,-278.7981 497.9103,-278.7981 497.9103,-320.0019"/>
<text text-anchor="start" x="8" y="-303.6" font-family="Times,serif" font-size="14.00" fill="#000000">project(., probability := max(probability), surveyCategory := min(surveyCategory [...]</text>
<text text-anchor="middle" x="248.9701" y="-286.8" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;g= subjectID)</text>
</g>
<!-- node_15&#45;&gt;node_16 -->
<g id="edge11" class="edge">
<title>node_15&#45;&gt;node_16</title>
<path fill="none" stroke="#000000" d="M248.9701,-354.8067C248.9701,-347.4437 248.9701,-338.7321 248.9701,-330.4234"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-330.2463 248.9701,-320.2463 245.4702,-330.2464 252.4702,-330.2463"/>
<text text-anchor="middle" x="250.7201" y="-333.4" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-329.2 248.9701,-329.2 248.9701,-337.4905 "/>
</g>
<!-- node_17 -->
<g id="node13" class="node">
<title>node_17</title>
<polygon fill="#cdc673" stroke="#000000" points="348.5833,-243.6019 149.3569,-243.6019 149.3569,-202.3981 348.5833,-202.3981 348.5833,-243.6019"/>
<text text-anchor="start" x="157.1637" y="-227.2" font-family="Times,serif" font-size="14.00" fill="#000000">rename(.,</text>
<text text-anchor="start" x="157.1637" y="-210.4" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;c(diagnosis = surveyCategory))</text>
</g>
<!-- node_16&#45;&gt;node_17 -->
<g id="edge12" class="edge">
<title>node_16&#45;&gt;node_17</title>
<path fill="none" stroke="#000000" d="M248.9701,-278.5234C248.9701,-270.9436 248.9701,-262.2093 248.9701,-253.9453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-253.8514 248.9701,-243.8514 245.4702,-253.8514 252.4702,-253.8514"/>
<text text-anchor="middle" x="250.7201" y="-257" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-252.8 248.9701,-252.8 248.9701,-260.9935 "/>
</g>
<!-- node_18 -->
<g id="node14" class="node">
<title>node_18</title>
<polygon fill="#cdc673" stroke="#000000" points="355.8755,-167.2019 142.0647,-167.2019 142.0647,-125.9981 355.8755,-125.9981 355.8755,-167.2019"/>
<text text-anchor="start" x="150.0174" y="-150.8" font-family="Times,serif" font-size="14.00" fill="#000000">select_columns(.,</text>
<text text-anchor="start" x="150.0174" y="-134" font-family="Times,serif" font-size="14.00" fill="#000000"> &#160;&#160;subjectID, diagnosis, probability)</text>
</g>
<!-- node_17&#45;&gt;node_18 -->
<g id="edge13" class="edge">
<title>node_17&#45;&gt;node_18</title>
<path fill="none" stroke="#000000" d="M248.9701,-202.1234C248.9701,-194.5436 248.9701,-185.8093 248.9701,-177.5453"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-177.4514 248.9701,-167.4514 245.4702,-177.4514 252.4702,-177.4514"/>
<text text-anchor="middle" x="250.7201" y="-180.6" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-176.4 248.9701,-176.4 248.9701,-184.5935 "/>
</g>
<!-- node_19 -->
<g id="node15" class="node">
<title>node_19</title>
<polygon fill="#cdc673" stroke="#000000" points="315.7495,-91 182.1907,-91 182.1907,-55 315.7495,-55 315.7495,-91"/>
<text text-anchor="start" x="190.0805" y="-68.8" font-family="Times,serif" font-size="14.00" fill="#000000">orderby(., subjectID)</text>
</g>
<!-- node_18&#45;&gt;node_19 -->
<g id="edge14" class="edge">
<title>node_18&#45;&gt;node_19</title>
<path fill="none" stroke="#000000" d="M248.9701,-125.7061C248.9701,-118.1413 248.9701,-109.4661 248.9701,-101.3668"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-101.1932 248.9701,-91.1933 245.4702,-101.1933 252.4702,-101.1932"/>
<text text-anchor="middle" x="250.7201" y="-104.2" font-family="Times,serif" font-size="14.00" fill="#000000">.</text>
<polyline fill="none" stroke="#000000" points="252.4701,-100 248.9701,-100 248.9701,-108.2997 "/>
</g>
<!-- table_ex_06629325664067217329_0000000002 -->
<g id="node16" class="node">
<title>table_ex_06629325664067217329_0000000002</title>
<polygon fill="#66cd00" stroke="#000000" points="375.6848,-36 372.6848,-40 351.6848,-40 348.6848,-36 122.2554,-36 122.2554,0 375.6848,0 375.6848,-36"/>
<text text-anchor="middle" x="248.9701" y="-13.8" font-family="Times,serif" font-size="14.00" fill="#000000">ex_06629325664067217329_0000000002</text>
</g>
<!-- node_19&#45;&gt;table_ex_06629325664067217329_0000000002 -->
<g id="edge17" class="edge">
<title>node_19&#45;&gt;table_ex_06629325664067217329_0000000002</title>
<path fill="none" stroke="#000000" d="M248.9701,-54.9909C248.9701,-52.2653 248.9701,-49.398 248.9701,-46.5157"/>
<polygon fill="#000000" stroke="#000000" points="252.4702,-46.2378 248.9701,-36.2378 245.4702,-46.2378 252.4702,-46.2378"/>
</g>
</g>
</svg>

